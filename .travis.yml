language: python
python: 3.4
env:
    - TOXENV=py27
    - TOXENV=py33
    - TOXENV=py34
install: pip install tox coveralls pylint
script: tox
after_success:
    # convert pylint plugins as necessary for py3k
    - if [[ ${TRAVIS_PYTHON_VERSION} == 3* ]]; then 2to3 -wn lintplugin/*.py; fi

    - pushd .tox/${TOXENV}/lib/python*/site-packages
    # upload coverage data to coveralls.io
    - coveralls
    # run pylint checks
    - ${TRAVIS_BUILD_DIR}/pylint -f colorized --reports y snakeoil
    - popd
